@model Portal

@{
    ViewBag.Title = "Išsami portalo informacija";
    Layout = "_Layout";
}

<div class="main-content-header container-fluid d-flex d-row justify-content-between align-items-center p-2">
    <span class="title">
        <h1>@ViewBag.Title</h1>
    </span>
    <span class="actions">
        <a href="@Url.Action("ShowPortals")" class="btn btn-secondary"><i class="fa-solid fa-angles-left"></i> Atgal į sąrašą</a>
    </span>
</div>

<div class="container-fluid d-flex justify-content-center">

    <fieldset class="border rounded shadow p-2" style="width: 40%; word-wrap: break-word;">

        <dl>
            <dt>@Html.DisplayNameFor(m => m.Id)</dt>
            <dd>@Html.DisplayFor(m => m.Id)</dd>

            <dt>@Html.DisplayNameFor(m => m.Name)</dt>
            <dd>@Html.DisplayFor(m => m.Name)</dd>

            <dt>@Html.DisplayNameFor(m => m.Latitude)</dt>
            <dd>@Html.DisplayFor(m => m.Latitude)</dd>

            <dt>@Html.DisplayNameFor(m => m.Longitude)</dt>
            <dd>@Html.DisplayFor(m => m.Longitude)</dd>

            <dt>Skystis</dt>
            <dd>
                @{
                    double progress = Model.LiquidCapacity != 0 ? (Model.CurrentLiquidLevel / Model.LiquidCapacity) * 100 : 0;
                    string progressWidth = $"{progress}%";
                }
                <div class="progress">
                    <div class="progress-bar w-10"
                         role="progressbar"
                         aria-valuenow="@Model.CurrentLiquidLevel"
                         aria-valuemin="0"
                         aria-valuemax="@Model.LiquidCapacity"
                         style="width: @progressWidth;">
                        @Model.CurrentLiquidLevel / @Model.LiquidCapacity
                    </div>
                </div>
            </dd>

            <dt>@Html.DisplayNameFor(m => m.TeleportPrice)</dt>
            <dd>@Html.DisplayFor(m => m.TeleportPrice)</dd>

            <dt>@Html.DisplayNameFor(m => m.TeleportCount)</dt>
            <dd>@Html.DisplayFor(m => m.TeleportCount)</dd>

            <dt>@Html.DisplayNameFor(m => m.Status)</dt>
            <dd>@Html.DisplayFor(m => m.Status)</dd>

            @if (Model.PortalJunction != null)
            {
                <dt>Jungtis1 - Jungtis2</dt>
                <dd>@Html.DisplayFor(m => m.PortalJunction.Portals[0].Name) - @Html.DisplayFor(m => m.PortalJunction.Portals[1].Name)</dd>
            }

        </dl>
    </fieldset>
</div>